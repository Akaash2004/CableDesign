graph TD
    User([User])
    
    subgraph Frontend [Next.js App :3001]
        UI[DesignValidatorPage]
        Form[DesignInputForm]
        Table[ValidationResultsTable]
        Panel[AiReasoningPanel]
    end

    subgraph Backend [NestJS API :3000]
        Controller[DesignValidationController]
        Service[DesignValidationService]
        AIService[AiIntegrationService]
        PromptEngine[Reasoning System Prompt]
    end

    subgraph External [Inference Engine]
        LLM[Ollama : Gemma 3 1B]
    end

    User -->|Inputs Design| UI
    UI -->|POST /validate| Controller
    Controller -->|DTO| Service
    Service -->|Inject Standards| PromptEngine
    PromptEngine -->|System + User Message| AIService
    
    AIService -->|Connection| LLM
    LLM -->|Structured JSON| AIService
    
    AIService -->|ValidationResult| Service
    Service -->|Response| UI
    UI -->|Display Results| User
    UI -->|Drill-down| Panel
